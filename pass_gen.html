<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PassGen Pro - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π</title>
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #1f2937;
            --light: #f9fafb;
            --gray: #6b7280;
            --gray-light: #e5e7eb;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 30px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            overflow: hidden;
            min-height: 700px;
        }
        
        /* –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –§–æ—Ä–º–∞ */
        .form-section {
            padding: 40px;
            background: white;
            border-right: 1px solid var(--gray-light);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 30px;
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .form-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--dark);
        }
        
        .form-subtitle {
            color: var(--gray);
            margin-bottom: 30px;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group.full-width {
            grid-column: 1 / -1;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
            font-size: 14px;
        }
        
        .form-label span {
            color: var(--gray);
            font-weight: normal;
        }
        
        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--gray-light);
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.3s;
            background: white;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }
        
        .form-input.error {
            border-color: var(--danger);
        }
        
        .error-message {
            color: var(--danger);
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }
        
        .options-selector {
            margin-top: 10px;
        }
        
        .options-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 10px;
        }
        
        .option-checkbox {
            display: none;
        }
        
        .option-label {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px;
            background: var(--light);
            border: 2px solid var(--gray-light);
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            user-select: none;
        }
        
        .option-checkbox:checked + .option-label {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .option-label:hover {
            border-color: var(--primary);
        }
        
        .slider-container {
            margin-top: 15px;
        }
        
        .slider-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .slider-value {
            font-weight: 600;
            color: var(--primary);
        }
        
        .slider {
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            appearance: none;
            background: var(--gray-light);
            border-radius: 4px;
            outline: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }
        
        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 12px;
            color: var(--gray);
        }
        
        .service-wrapper {
            position: relative;
        }
        
        .service-counter {
            position: absolute;
            bottom: 12px;
            right: 12px;
            font-size: 12px;
            color: var(--gray);
            background: white;
            padding: 2px 6px;
            border-radius: 10px;
        }
        
        .auto-suggestions {
            background: var(--light);
            border: 1px solid var(--gray-light);
            border-radius: 8px;
            padding: 12px;
            margin-top: 8px;
            font-size: 13px;
            display: none;
        }
        
        .suggestion-title {
            color: var(--gray);
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 6px;
            display: block;
        }
        
        .suggestion-tag {
            display: inline-block;
            padding: 4px 10px;
            margin: 2px;
            background: white;
            border: 1px solid var(--gray-light);
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .suggestion-tag:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .submit-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);
        }
        
        .submit-btn:active {
            transform: translateY(0);
        }
        
        /* –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –†–µ–∑—É–ª—å—Ç–∞—Ç */
        .result-section {
            padding: 40px;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            position: relative;
            overflow: hidden;
        }
        
        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .result-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
        }
        
        .refresh-btn {
            background: white;
            border: 2px solid var(--gray-light);
            border-radius: 8px;
            padding: 8px 16px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .refresh-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
        }
        
        .password-display {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            border: 2px solid var(--gray-light);
        }
        
        .password-label {
            font-size: 12px;
            text-transform: uppercase;
            color: var(--gray);
            font-weight: 600;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }
        
        .password-value {
            font-size: 24px;
            font-weight: 600;
            color: var(--primary);
            word-break: break-all;
            line-height: 1.4;
            margin-bottom: 20px;
            font-family: 'Courier New', monospace;
            padding: 10px;
            background: var(--light);
            border-radius: 8px;
            border: 1px solid var(--gray-light);
        }
        
        .password-actions {
            display: flex;
            gap: 10px;
        }
        
        .action-btn {
            padding: 10px 20px;
            border-radius: 8px;
            border: 2px solid var(--gray-light);
            background: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .action-btn.primary {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .action-btn.copied {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }
        
        .info-cards {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .info-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid var(--gray-light);
        }
        
        .card-label {
            font-size: 12px;
            color: var(--gray);
            margin-bottom: 8px;
            display: block;
        }
        
        .card-value {
            font-size: 16px;
            font-weight: 600;
            color: var(--dark);
        }
        
        .options-badge {
            display: inline-block;
            padding: 4px 12px;
            background: linear-gradient(135deg, #a5b4fc, #c4b5fd);
            color: white;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 5px;
        }
        
        .service-display {
            background: white;
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid var(--secondary);
        }
        
        .service-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark);
        }
        
        .service-text {
            color: var(--gray);
            line-height: 1.5;
        }
        
        .detected-options {
            background: #f0f9ff;
            border-left: 4px solid var(--primary);
            padding: 12px;
            margin-top: 10px;
            border-radius: 0 8px 8px 0;
        }
        
        .detected-options span {
            font-size: 13px;
            color: var(--dark);
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--gray);
        }
        
        .empty-icon {
            font-size: 48px;
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        .empty-text {
            font-size: 18px;
            margin-bottom: 10px;
            color: var(--dark);
        }
        
        .empty-subtext {
            font-size: 14px;
            color: var(--gray);
        }
        
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s;
            z-index: 1000;
        }
        
        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .notification.success {
            border-left: 4px solid var(--success);
        }
        
        .notification.error {
            border-left: 4px solid var(--danger);
        }
        
        .strength-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .strength-icon {
            font-size: 20px;
        }
        
        .entropy-value {
            font-size: 14px;
            font-weight: 600;
            color: var(--primary);
        }
        
        .strength-bar {
            flex: 1;
            height: 6px;
            background: var(--gray-light);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .strength-fill {
            height: 100%;
            width: 0%;
            transition: all 0.3s;
            border-radius: 3px;
        }
        
        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
                max-width: 600px;
            }
            
            .form-section {
                border-right: none;
                border-bottom: 1px solid var(--gray-light);
            }
        }
        
        @media (max-width: 600px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .info-cards {
                grid-template-columns: 1fr;
            }
            
            .options-grid {
                grid-template-columns: 1fr;
            }
            
            .password-value {
                font-size: 20px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –§–æ—Ä–º–∞ -->
        <div class="form-section">
            <div class="logo">
                <div class="logo-icon">P</div>
                <span>PassGen Pro</span>
            </div>
            
            <h1 class="form-title">–°–æ–∑–¥–∞–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å</h1>
            <p class="form-subtitle">–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫</p>
            
            <form id="passwordForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">–°–µ—Ä–≤–∏—Å/–°–∞–π—Ç <span>(–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</span></label>
                        <input type="text" class="form-input" id="service" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">–õ–æ–≥–∏–Ω/Email <span>(–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</span></label>
                        <input type="text" class="form-input" id="login" placeholder="email@example.com">
                        <div class="error-message" id="loginError">–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞—Ä–æ–ª—è</label>
                    <div class="options-selector">
                        <div class="options-grid" id="optionsGrid">
                            <!-- –û–ø—Ü–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">–î–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è</label>
                    <div class="slider-container">
                        <div class="slider-header">
                            <span>–î–ª–∏–Ω–∞:</span>
                            <span class="slider-value" id="lengthValue">12</span>
                        </div>
                        <input type="range" min="8" max="32" value="12" class="slider" id="lengthSlider">
                        <div class="slider-labels">
                            <span>8</span>
                            <span>32</span>
                        </div>
                    </div>
                </div>
                
                <div class="form-group full-width">
                    <label class="form-label">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞</label>
                    <div class="service-wrapper">
                        <textarea class="form-input" id="keywords" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–∏—Å–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä: –±–∞–Ω–∫, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –∏–≥—Ä–∞)..." rows="3"></textarea>
                        <div class="service-counter" id="keywordsCounter">0/100</div>
                    </div>
                    <div class="auto-suggestions" id="autoSuggestions">
                        <span class="suggestion-title">–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞:</span>
                        <div id="suggestionsTags"></div>
                    </div>
                </div>
                
                <button type="submit" class="submit-btn">
                    <i class="fas fa-key"></i>
                    –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å
                </button>
            </form>
        </div>
        
        <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –†–µ–∑—É–ª—å—Ç–∞—Ç -->
        <div class="result-section">
            <div class="result-header">
                <h2 class="result-title">–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h2>
                <button class="refresh-btn" id="refreshBtn">
                    <i class="fas fa-redo"></i>
                    –ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
                </button>
            </div>
            
            <div id="emptyState" class="empty-state">
                <div class="empty-icon">üîê</div>
                <h3 class="empty-text">–ü–∞—Ä–æ–ª—å –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω</h3>
                <p class="empty-subtext">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–ª–µ–≤–∞ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å</p>
            </div>
            
            <div id="resultContent" style="display: none;">
                <div class="password-display">
                    <div class="password-label">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å</div>
                    <div class="password-value" id="passwordOutput">p@ssw0rd123!</div>
                    <div class="password-actions">
                        <button class="action-btn primary" id="copyBtn">
                            <i class="far fa-copy"></i>
                            –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                        <button class="action-btn" id="saveBtn">
                            <i class="far fa-heart"></i>
                            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                        </button>
                    </div>
                </div>
                
                <div class="info-cards">
                    <div class="info-card">
                        <span class="card-label">–°–µ—Ä–≤–∏—Å</span>
                        <div class="card-value" id="serviceOutput">-</div>
                    </div>
                    <div class="info-card">
                        <span class="card-label">–õ–æ–≥–∏–Ω</span>
                        <div class="card-value" id="loginOutput">-</div>
                    </div>
                    <div class="info-card">
                        <span class="card-label">–î–ª–∏–Ω–∞</span>
                        <div class="card-value" id="lengthOutput">-</div>
                    </div>
                    <div class="info-card">
                        <span class="card-label">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</span>
                        <div class="card-value" id="optionsOutput">-</div>
                        <div class="options-badge" id="optionsBadge"></div>
                    </div>
                </div>
                
                <div class="info-card full-width">
                    <div class="strength-indicator">
                        <div class="strength-icon" id="strengthIcon">üîí</div>
                        <div>
                            <span class="card-label">–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è</span>
                            <div class="card-value" id="securityOutput">–í—ã—Å–æ–∫–∞—è</div>
                        </div>
                        <div class="entropy-value" id="entropyValue">- –±–∏—Ç</div>
                    </div>
                    <div class="strength-bar" style="margin-top: 10px;">
                        <div class="strength-fill" id="securityFill" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="detected-options" id="detectedOptions" style="display: none;">
                    <i class="fas fa-lightbulb"></i>
                    <span id="detectedOptionsText"></span>
                </div>
                
                <div id="keywordsDisplay" class="service-display" style="display: none; margin-top: 20px;">
                    <div class="service-title">
                        <i class="far fa-comment-dots"></i>
                        <span>–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞</span>
                    </div>
                    <div class="service-text" id="keywordsOutput"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText">–ü–∞—Ä–æ–ª—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!</span>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            initOptions();
            setupEventListeners();
            updateKeywordsCounter();
        });

        // –¢–∏–ø—ã —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
        const serviceTypes = [
            { id: 'social', name: '–°–æ—Ü. —Å–µ—Ç–∏', icon: 'üë•', keywords: ['—Å–æ—Ü–∏–∞–ª', 'facebook', '–≤–∫–æ–Ω—Ç–∞–∫—Ç–µ', 'instagram', 'twitter', 'telegram', 'whatsapp', '—á–∞—Ç', '–æ–±—â–µ–Ω–∏–µ'] },
            { id: 'finance', name: '–§–∏–Ω–∞–Ω—Å—ã', icon: 'üí∞', keywords: ['–±–∞–Ω–∫', '—Ñ–∏–Ω–∞–Ω—Å', '–¥–µ–Ω—å–≥', '–ø–ª–∞—Ç–µ–∂', '–∫–∞—Ä—Ç', '–∫—Ä–µ–¥–∏—Ç', '–∏–Ω–≤–µ—Å—Ç', '–±–∏—Ç–∫–æ–∏–Ω', '–∫—Ä–∏–ø—Ç–æ'] },
            { id: 'email', name: '–ü–æ—á—Ç–∞', icon: 'üìß', keywords: ['–ø–æ—á—Ç', 'email', 'gmail', '—è–Ω–¥–µ–∫—Å', 'outlook', '–ø–µ—Ä–µ–ø–∏—Å–∫', '—Å–æ–æ–±—â–µ–Ω'] },
            { id: 'shopping', name: '–ü–æ–∫—É–ø–∫–∏', icon: 'üõí', keywords: ['–º–∞–≥–∞–∑–∏–Ω', '–ø–æ–∫—É–ø', '–∑–∞–∫–∞–∑', '—Ç–æ–≤–∞—Ä', '—Å–∫–∏–¥–∫', '–∞–∫—Ü–∏', 'amazon', 'aliexpress', 'ebay'] },
            { id: 'work', name: '–†–∞–±–æ—Ç–∞', icon: 'üíº', keywords: ['—Ä–∞–±–æ—Ç', '–æ—Ñ–∏—Å', '–±–∏–∑–Ω–µ—Å', '–ø—Ä–æ–µ–∫—Ç', '–∫–æ–ª–ª–µ–≥', '–∫–æ–º–ø–∞–Ω', '–∫–æ—Ä–ø–æ—Ä–∞—Ç', '–¥–æ–∫—É–º–µ–Ω—Ç'] },
            { id: 'entertainment', name: '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è', icon: 'üé¨', keywords: ['–∫–∏–Ω–æ', '–º—É–∑—ã–∫', '–∏–≥—Ä', '–≤–∏–¥–µ–æ', '—Å—Ç—Ä–∏–º', 'youtube', 'netflix', '—Ä–∞–∑–≤–ª–µ—á–µ–Ω'] },
            { id: 'education', name: '–û–±—É—á–µ–Ω–∏–µ', icon: 'üéì', keywords: ['—É—á–µ–±', '–∫—É—Ä—Å', '—Å—Ç—É–¥–µ–Ω—Ç', '—à–∫–æ–ª', '—É–Ω–∏–≤–µ—Ä', '–∑–Ω–∞–Ω–∏', '–æ–±—Ä–∞–∑–æ–≤–∞–Ω', '–∏—Å—Å–ª–µ–¥'] },
            { id: 'health', name: '–ó–¥–æ—Ä–æ–≤—å–µ', icon: 'üè•', keywords: ['–∑–¥–æ—Ä–æ–≤', '–º–µ–¥–∏—Ü', '–≤—Ä–∞—á', '–±–æ–ª—å–Ω–∏—Ü', '—Ñ–∏—Ç–Ω–µ—Å', '—Å–ø–æ—Ä—Ç', '–¥–∏–µ—Ç', '–≤–∏—Ç–∞–º–∏–Ω'] },
            { id: 'travel', name: '–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è', icon: '‚úàÔ∏è', keywords: ['–∞–≤–∏–∞', '–æ—Ç–µ–ª—å', '–±–∏–ª–µ—Ç', ' —Ç—É—Ä', '–æ—Ç–¥—ã—Ö', '–≥–æ—Å—Ç–∏–Ω–∏—Ü', '–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω'] },
            { id: 'government', name: '–ì–æ—Å—É—Å–ª—É–≥–∏', icon: 'üèõÔ∏è', keywords: ['–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤', '—É—Å–ª—É–≥', '–Ω–∞–ª–æ–≥', '–¥–æ–∫—É–º–µ–Ω—Ç', '–ø–∞—Å–ø–æ—Ä—Ç', '–≤–∏–∑', '–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω'] }
        ];

        // –°–∏–º–≤–æ–ª—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
        const characterSets = {
            lowercase: 'abcdefghijklmnopqrstuvwxyz',
            uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
            numbers: '0123456789',
            symbols: '!@#$%^&*()_+-=[]{}|;:,.<>?/~`"\'',
            similar: 'il1Lo0O' // –°–∏–º–≤–æ–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏—Å–∫–ª—é—á–∏—Ç—å
        };

        // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
        const generationOptions = [
            { id: 'lowercase', name: '–°—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã', icon: 'abc', default: true },
            { id: 'uppercase', name: '–ó–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã', icon: 'ABC', default: true },
            { id: 'numbers', name: '–¶–∏—Ñ—Ä—ã', icon: '123', default: true },
            { id: 'symbols', name: '–°–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã', icon: '#$%', default: false },
            { id: 'noSimilar', name: '–ò—Å–∫–ª—é—á–∏—Ç—å –ø–æ—Ö–æ–∂–∏–µ', icon: 'üëÅÔ∏è', default: true },
            { id: 'noAmbiguous', name: '–ò—Å–∫–ª—é—á–∏—Ç—å –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–µ', icon: '‚ùì', default: false }
        ];

        let currentPassword = '';
        let selectedOptions = new Set(['lowercase', 'uppercase', 'numbers', 'noSimilar']);
        let generatedPasswords = [];
        let autoDetectedTypes = new Set();

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
        function initOptions() {
            const grid = document.getElementById('optionsGrid');
            generationOptions.forEach(option => {
                const checkboxId = `option-${option.id}`;
                const label = document.createElement('label');
                label.className = 'option-label';
                label.htmlFor = checkboxId;
                label.innerHTML = `${option.icon} ${option.name}`;
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.className = 'option-checkbox';
                checkbox.id = checkboxId;
                checkbox.value = option.id;
                checkbox.checked = option.default;
                
                if (option.default) {
                    selectedOptions.add(option.id);
                }
                
                grid.appendChild(checkbox);
                grid.appendChild(label);
                
                checkbox.addEventListener('change', function() {
                    if (this.checked) {
                        selectedOptions.add(option.id);
                    } else {
                        selectedOptions.delete(option.id);
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –≤—ã–±—Ä–∞–Ω —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤
                    const charOptions = ['lowercase', 'uppercase', 'numbers', 'symbols'];
                    const hasChars = charOptions.some(opt => selectedOptions.has(opt));
                    if (!hasChars) {
                        showNotification('–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ç–∏–ø —Å–∏–º–≤–æ–ª–æ–≤', 'error');
                        this.checked = true;
                        selectedOptions.add(option.id);
                    }
                });
            });
            
            // –°–ª–∞–π–¥–µ—Ä –¥–ª–∏–Ω—ã
            const slider = document.getElementById('lengthSlider');
            const value = document.getElementById('lengthValue');
            slider.addEventListener('input', function() {
                value.textContent = this.value;
            });
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –§–æ—Ä–º–∞
            document.getElementById('passwordForm').addEventListener('submit', handleSubmit);
            
            // –°—á—ë—Ç—á–∏–∫ —Å–∏–º–≤–æ–ª–æ–≤ –∏ –∞–Ω–∞–ª–∏–∑ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
            document.getElementById('keywords').addEventListener('input', function() {
                updateKeywordsCounter();
                analyzeKeywords(this.value);
            });
            
            // –ö–Ω–æ–ø–∫–∏
            document.getElementById('copyBtn').addEventListener('click', copyPassword);
            document.getElementById('saveBtn').addEventListener('click', savePassword);
            document.getElementById('refreshBtn').addEventListener('click', generateNewPassword);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤
        function updateKeywordsCounter() {
            const textarea = document.getElementById('keywords');
            const counter = document.getElementById('keywordsCounter');
            const length = textarea.value.length;
            counter.textContent = `${length}/100`;
            
            if (length > 90) {
                counter.style.color = 'var(--danger)';
            } else if (length > 70) {
                counter.style.color = 'var(--warning)';
            } else {
                counter.style.color = 'var(--gray)';
            }
        }

        // –£–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
        function analyzeKeywords(keywords) {
            const suggestionsDiv = document.getElementById('autoSuggestions');
            const tagsDiv = document.getElementById('suggestionsTags');
            
            if (!keywords.trim()) {
                suggestionsDiv.style.display = 'none';
                autoDetectedTypes.clear();
                return;
            }
            
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
            tagsDiv.innerHTML = '';
            autoDetectedTypes.clear();
            
            const keywordsLower = keywords.toLowerCase();
            const detected = [];
            
            // –ò—â–µ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ —Ç–∏–ø–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤
            serviceTypes.forEach(type => {
                for (const keyword of type.keywords) {
                    if (keywordsLower.includes(keyword)) {
                        autoDetectedTypes.add(type.id);
                        detected.push(type);
                        break;
                    }
                }
            });
            
            // –°–æ–∑–¥–∞–µ–º —Ç–µ–≥–∏ –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤
            detected.forEach(type => {
                const tag = document.createElement('span');
                tag.className = 'suggestion-tag';
                tag.innerHTML = `${type.icon} ${type.name}`;
                tag.title = `–¢–∏–ø —Å–µ—Ä–≤–∏—Å–∞: ${type.name}`;
                tag.addEventListener('click', () => {
                    document.getElementById('keywords').value += ` ${type.name.toLowerCase()}`;
                    updateKeywordsCounter();
                    analyzeKeywords(document.getElementById('keywords').value);
                    showNotification(`–¢–∏–ø "${type.name}" –¥–æ–±–∞–≤–ª–µ–Ω –∫ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º`, 'success');
                });
                tagsDiv.appendChild(tag);
            });
            
            if (detected.length > 0) {
                suggestionsDiv.style.display = 'block';
            } else {
                suggestionsDiv.style.display = 'none';
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
        function handleSubmit(event) {
            event.preventDefault();
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è
            if (!validateForm()) {
                return;
            }
            
            // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
            const formData = getFormData();
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è
            generatePassword(formData);
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            showResult(formData);
        }

        // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
        function validateForm() {
            let isValid = true;
            
            // Email (–µ—Å–ª–∏ –≤–≤–µ–¥–µ–Ω)
            const login = document.getElementById('login').value;
            const loginError = document.getElementById('loginError');
            if (login.includes('@') && !validateEmail(login)) {
                loginError.textContent = '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email';
                loginError.style.display = 'block';
                isValid = false;
            } else {
                loginError.style.display = 'none';
            }
            
            return isValid;
        }

        // –í–∞–ª–∏–¥–∞—Ü–∏—è email
        function validateEmail(email) {
            const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return regex.test(email);
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã
        function getFormData() {
            return {
                service: document.getElementById('service').value.trim(),
                login: document.getElementById('login').value.trim().toLowerCase(),
                options: Array.from(selectedOptions),
                length: parseInt(document.getElementById('lengthSlider').value),
                autoTypes: Array.from(autoDetectedTypes),
                keywords: document.getElementById('keywords').value.trim()
            };
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è
        function generatePassword(data) {
            // –°–æ–∑–¥–∞–µ–º –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –æ–ø—Ü–∏–π
            let charPool = '';
            
            if (data.options.includes('lowercase')) {
                charPool += characterSets.lowercase;
            }
            if (data.options.includes('uppercase')) {
                charPool += characterSets.uppercase;
            }
            if (data.options.includes('numbers')) {
                charPool += characterSets.numbers;
            }
            if (data.options.includes('symbols')) {
                charPool += characterSets.symbols;
            }
            
            // –ò—Å–∫–ª—é—á–∞–µ–º –ø–æ—Ö–æ–∂–∏–µ —Å–∏–º–≤–æ–ª—ã
            if (data.options.includes('noSimilar')) {
                charPool = charPool.split('').filter(char => 
                    !characterSets.similar.includes(char)
                ).join('');
            }
            
            // –ò—Å–∫–ª—é—á–∞–µ–º –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
            if (data.options.includes('noAmbiguous')) {
                const ambiguous = '{}[]()/\\\'"`~,;:.<>';
                charPool = charPool.split('').filter(char => 
                    !ambiguous.includes(char)
                ).join('');
            }
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è seed –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö + –≤—Ä–µ–º–µ–Ω–∏
            const seedStr = data.login + data.keywords + data.service + data.options.join('') + Date.now() + Math.random();
            const seed = generateSeed(seedStr);
            
            // –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º –Ω–∞–ª–∏—á–∏–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –∏–∑ –∫–∞–∂–¥–æ–π –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            let password = '';
            
            if (data.options.includes('lowercase')) {
                const char = characterSets.lowercase[seed % characterSets.lowercase.length];
                password += char;
            }
            if (data.options.includes('uppercase')) {
                const char = characterSets.uppercase[(seed + 1) % characterSets.uppercase.length];
                password += char;
            }
            if (data.options.includes('numbers')) {
                const char = characterSets.numbers[(seed + 2) % characterSets.numbers.length];
                password += char;
            }
            if (data.options.includes('symbols')) {
                const char = characterSets.symbols[(seed + 3) % characterSets.symbols.length];
                password += char;
            }
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º –æ—Å—Ç–∞–≤—à—É—é—Å—è –¥–ª–∏–Ω—É —Å–ª—É—á–∞–π–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ –∏–∑ –ø—É–ª–∞
            while (password.length < data.length) {
                const randomIndex = Math.floor(Math.random() * charPool.length);
                password += charPool[randomIndex];
            }
            
            // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –ø–∞—Ä–æ–ª—å –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞
            password = shuffleString(password);
            
            currentPassword = password;
            generatedPasswords.push({
                password: password,
                service: data.service,
                login: data.login,
                length: data.length,
                options: data.options,
                timestamp: new Date().toLocaleString('ru-RU'),
                data: data
            });
            
            return password;
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è seed
        function generateSeed(str) {
            let hash = 0;
            for (let i = 0; i < str.length; i++) {
                const char = str.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            return Math.abs(hash);
        }

        // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏
        function shuffleString(str) {
            const arr = str.split('');
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr.join('');
        }

        // –†–∞—Å—á–µ—Ç —ç–Ω—Ç—Ä–æ–ø–∏–∏ –ø–∞—Ä–æ–ª—è
        function calculateEntropy(password, options) {
            let poolSize = 0;
            
            if (options.includes('lowercase')) poolSize += 26;
            if (options.includes('uppercase')) poolSize += 26;
            if (options.includes('numbers')) poolSize += 10;
            if (options.includes('symbols')) poolSize += 32;
            
            // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
            if (options.includes('noSimilar')) {
                poolSize -= 7; // –ü—Ä–∏–º–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ö–æ–∂–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
            }
            
            const entropy = Math.log2(Math.pow(poolSize, password.length));
            return Math.round(entropy * 10) / 10;
        }

        // –û—Ü–µ–Ω–∫–∞ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª—è
        function evaluatePasswordStrength(password, entropy) {
            if (entropy < 40) return { level: '–ù–∏–∑–∫–∞—è', icon: 'üîì', color: 'var(--danger)', width: '25%' };
            if (entropy < 60) return { level: '–°—Ä–µ–¥–Ω—è—è', icon: 'üîí', color: 'var(--warning)', width: '50%' };
            if (entropy < 80) return { level: '–í—ã—Å–æ–∫–∞—è', icon: 'üîê', color: 'var(--success)', width: '75%' };
            return { level: '–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è', icon: 'üõ°Ô∏è', color: 'var(--primary)', width: '100%' };
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        function showResult(data) {
            // –°–∫—Ä—ã—Ç—å –ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            document.getElementById('emptyState').style.display = 'none';
            document.getElementById('resultContent').style.display = 'block';
            
            // –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
            document.getElementById('serviceOutput').textContent = data.service || '-';
            document.getElementById('loginOutput').textContent = data.login || '-';
            document.getElementById('lengthOutput').textContent = data.length + ' —Å–∏–º–≤–æ–ª–æ–≤';
            document.getElementById('passwordOutput').textContent = currentPassword;
            
            // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
            const optionNames = {
                lowercase: '—Å—Ç—Ä–æ—á–Ω—ã–µ',
                uppercase: '–∑–∞–≥–ª–∞–≤–Ω—ã–µ',
                numbers: '—Ü–∏—Ñ—Ä—ã',
                symbols: '—Å–∏–º–≤–æ–ª—ã',
                noSimilar: '–±–µ–∑ –ø–æ—Ö–æ–∂–∏—Ö',
                noAmbiguous: '–±–µ–∑ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã—Ö'
            };
            
            const selectedOptionNames = data.options.map(opt => optionNames[opt] || opt);
            document.getElementById('optionsOutput').textContent = selectedOptionNames.join(', ');
            
            // –ò–∫–æ–Ω–∫–∏ –¥–ª—è –±–µ–π–¥–∂–∞
            const optionIcons = generationOptions
                .filter(opt => data.options.includes(opt.id))
                .map(opt => opt.icon)
                .join(' ');
            
            document.getElementById('optionsBadge').textContent = optionIcons + ' ' + data.length + ' —Å–∏–º–≤.';
            
            // –†–∞—Å—á–µ—Ç —ç–Ω—Ç—Ä–æ–ø–∏–∏ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
            const entropy = calculateEntropy(currentPassword, data.options);
            const strength = evaluatePasswordStrength(currentPassword, entropy);
            
            document.getElementById('entropyValue').textContent = entropy + ' –±–∏—Ç';
            document.getElementById('securityOutput').textContent = strength.level;
            document.getElementById('strengthIcon').textContent = strength.icon;
            
            const securityFill = document.getElementById('securityFill');
            securityFill.style.width = strength.width;
            securityFill.style.background = strength.color;
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã
            const detectedDiv = document.getElementById('detectedOptions');
            const detectedText = document.getElementById('detectedOptionsText');
            
            if (data.autoTypes.length > 0) {
                const autoTypeNames = data.autoTypes.map(id => 
                    serviceTypes.find(t => t.id === id)?.name
                ).filter(name => name);
                
                if (autoTypeNames.length > 0) {
                    detectedText.textContent = `–û–ø—Ä–µ–¥–µ–ª–µ–Ω —Ç–∏–ø —Å–µ—Ä–≤–∏—Å–∞: ${autoTypeNames.join(', ')}`;
                    detectedDiv.style.display = 'block';
                }
            } else {
                detectedDiv.style.display = 'none';
            }
            
            // –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
            const keywordsDisplay = document.getElementById('keywordsDisplay');
            const keywordsOutput = document.getElementById('keywordsOutput');
            if (data.keywords) {
                keywordsOutput.textContent = data.keywords;
                keywordsDisplay.style.display = 'block';
            } else {
                keywordsDisplay.style.display = 'none';
            }
            
            // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
            showNotification('–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω!', 'success');
        }

        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è
        function copyPassword() {
            navigator.clipboard.writeText(currentPassword).then(() => {
                const btn = document.getElementById('copyBtn');
                const originalText = btn.innerHTML;
                
                btn.innerHTML = '<i class="fas fa-check"></i> –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ';
                btn.classList.add('copied');
                
                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.classList.remove('copied');
                }, 2000);
                
                showNotification('–ü–∞—Ä–æ–ª—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!', 'success');
            });
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
        function savePassword() {
            const btn = document.getElementById('saveBtn');
            const originalText = btn.innerHTML;
            
            btn.innerHTML = '<i class="fas fa-heart"></i> –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ';
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            const saved = JSON.parse(localStorage.getItem('passgen_saved') || '[]');
            saved.push({
                service: document.getElementById('service').value.trim(),
                login: document.getElementById('login').value.trim(),
                password: currentPassword,
                date: new Date().toLocaleString('ru-RU'),
                options: Array.from(selectedOptions)
            });
            localStorage.setItem('passgen_saved', JSON.stringify(saved.slice(-10))); // –•—Ä–∞–Ω–∏–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10
            
            setTimeout(() => {
                btn.innerHTML = originalText;
            }, 2000);
            
            showNotification('–ü–∞—Ä–æ–ª—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω!', 'success');
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è
        function generateNewPassword() {
            const data = getFormData();
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
            const password = generatePassword(data);
            
            document.getElementById('passwordOutput').textContent = password;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ü–µ–Ω–∫—É –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
            const entropy = calculateEntropy(password, data.options);
            const strength = evaluatePasswordStrength(password, entropy);
            
            document.getElementById('entropyValue').textContent = entropy + ' –±–∏—Ç';
            document.getElementById('securityOutput').textContent = strength.level;
            document.getElementById('strengthIcon').textContent = strength.icon;
            
            const securityFill = document.getElementById('securityFill');
            securityFill.style.width = strength.width;
            securityFill.style.background = strength.color;
            
            showNotification('–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –Ω–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–∞—Ä–æ–ª—è!', 'success');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message, type) {
            const notification = document.getElementById('notification');
            const text = document.getElementById('notificationText');
            
            text.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        function animateElements() {
            const elements = document.querySelectorAll('.form-group, .submit-btn');
            elements.forEach((el, i) => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    el.style.transition = 'all 0.5s ease';
                    el.style.opacity = '1';
                    el.style.transform = 'translateY(0)';
                }, i * 100);
            });
        }

        // –ó–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏
        setTimeout(animateElements, 100);
    </script>
</body>
</html>